<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>Real Estate Photo Tagger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      :root { --ring: #11182722; }
      * { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
      .card { box-shadow: 0 1px 0 0 var(--ring), 0 0 0 1px var(--ring); }
      .dropzone.drag { border-color: #111827; background: #f9fafb; }
      .spinner { width: 22px; height: 22px; border: 3px solid #e5e7eb; border-top-color:#111827; border-radius: 50%; animation: spin 0.9s linear infinite; }
      @keyframes spin { to { transform: rotate(360deg); } }
      .badge { border:1px solid #e5e7eb; padding:.25rem .5rem; border-radius:9999px; display:inline-block; font-size: .75rem; }
    </style>
  </head>
  <body class="bg-white text-gray-900">
    <!-- Topbar -->
    <header class="sticky top-0 z-10 bg-white/80 backdrop-blur border-b">
      <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded-xl bg-black"></div>
          <h1 class="text-lg font-bold">Real Estate Photo Tagger</h1>
          <span class="text-xs px-2 py-1 rounded-full border ml-2">v0.2</span>
        </div>
        <div class="hidden md:flex items-center gap-4 text-sm">
          <a href="#" class="text-gray-600 hover:text-gray-900" id="openSettings">Ayarlar</a>
          <a href="#" class="text-gray-600 hover:text-gray-900" id="openHelp">YardÄ±m</a>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="max-w-6xl mx-auto px-4 py-6">
      <!-- Uploader -->
      <section class="grid md:grid-cols-12 gap-6 items-start">
        <div class="md:col-span-8">
          <div id="dropzone" class="dropzone card border rounded-2xl p-6">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center">ðŸ“·</div>
              <div class="flex-1">
                <div class="font-semibold">FotoÄŸraflarÄ± sÃ¼rÃ¼kleyip bÄ±rak veya seÃ§</div>
                <div class="text-sm text-gray-500">Sadece ilan / ev iÃ§i fotoÄŸraflar .jpg / .png</div>
              </div>
              <label class="inline-block">
                <input id="fileInput" type="file" accept="image/*" multiple class="hidden">
                <span class="px-4 py-2 rounded-xl bg-black text-white cursor-pointer">Dosya SeÃ§</span>
              </label>
            </div>
          </div>

          <!-- Preview gallery -->
          <div id="gallery" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>

          <!-- Actions -->
          <div class="mt-6 flex items-center gap-3">
            <button id="analyzeBtn" class="px-4 py-2 rounded-xl bg-black text-white disabled:opacity-40">Analyze</button>
            <button id="clearBtn" class="px-4 py-2 rounded-xl border">Temizle</button>
            <div id="status" class="text-sm text-gray-500"></div>
          </div>
        </div>

        <!-- Settings -->
        <aside class="md:col-span-4">
          <div class="card border rounded-2xl p-5">
            <div class="font-semibold mb-3">Ayarlar</div>
            <div class="space-y-3 text-sm">
              <label class="flex items-center justify-between">
                <span>TopK Room</span>
                <input id="topk_room" type="number" value="3" min="1" max="10" class="w-20 border rounded px-2 py-1">
              </label>
              <label class="flex items-center justify-between">
                <span>TopK Features</span>
                <input id="topk_feat" type="number" value="8" min="1" max="30" class="w-24 border rounded px-2 py-1">
              </label>
              <label class="flex items-center justify-between">
                <span>Min Feature Score</span>
                <input id="minfeat" type="number" step="0.01" value="0.02" class="w-28 border rounded px-2 py-1">
              </label>
              <div class="border-t pt-3 text-xs text-gray-500">
                Sunucu: <code>http://127.0.0.1:8000</code>
              </div>
            </div>
          </div>
        </aside>
      </section>

      <!-- Results -->
      <section class="mt-10">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold">SonuÃ§lar</h2>
          <div class="text-sm text-gray-500">Teach Mode ile dÃ¼zelt ve kaydet</div>
        </div>
        <div id="results" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
      </section>
    </main>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 hidden px-4 py-2 rounded-xl bg-black text-white text-sm"></div>

    <script type="module" src="./script.js"></script>
  </body>
</html>
